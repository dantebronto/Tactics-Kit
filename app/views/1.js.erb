// var map = new Map([ 
//   [ 15, 15, 15, 15, 15, 15, 15, 15 ], 
//   [ 15, 15, 15, 15, 15, 15, 15, 15 ],
//   [ 15, 15, 15, 15, 15, 15, 15, 15 ], 
//   [ 15, 15, 15, 10, 10, 15, 15, 15 ], 
//   [ 15, 15, 10, 10, 10, 10, 15, 15 ],
//   [ 15, 15, 10, 10, 10, 10, 15, 15 ],
//   [ 15, 15, 10, 15, 10, 10, 15, 15 ],
//   [ 15, 15, 10, 10, 10, 10, 15, 15 ],
//   [ 15, 15, 10, 10, 10, 10, 15, 15 ],
//   [ 15, 15, 10, 10, 10, 10, 15, 15 ],
//   [ 15, 15, 10, 10, 10, 10, 15, 15 ],
//   [ 15, 15, 10, 10, 10, 10, 15, 15 ],
//   [ 15, 15, 10, 10, 10, 10, 15, 15 ],
//   [ 15, 15, 10, 10, 10, 10, 15, 15 ],
//   [ 15, 15, 10, 10, 10, 10, 15, 15 ],
//   [ 15, 15, 15, 15, 15, 15, 15, 15 ]
// ]);
// 
// window.level = new Level({ map: map });
// 
// $('#map').
//   css('width', '410px').
//   css('height', '816px').
//   css('background-image', 'url(/images/test_map.jpg)');
// 
// level.turn_function = function(){
//   if ( this.turn == 8 ){
//     alert('Reinforcements are boarding!');
//     if ( level.map.enemy_matrix.e(3, 14).hasClass('occupied') != true &&
//         level.map.player_matrix.e(3, 14).hasClass('occupied') != true ){  
//         var baz = new Enemy( { map: level.map, x: 3, y: 14, name: 'Baz' } );
//         level.enemies.push(baz);
//         level.higest_id += 1;
//         baz.level_id = level.higest_id;              
//     }
//     if ( level.map.enemy_matrix.e(4, 14).hasClass('occupied') != true &&
//         level.map.player_matrix.e(4, 14).hasClass('occupied') != true ){  
//         var bat = new Enemy( { map: level.map, x: 4, y: 14, name: 'Bat' } );
//         level.enemies.push(bat);
//         level.higest_id += 1;
//         bat.level_id = level.higest_id;              
//     }
//   }
// };
// 
// level.end_function = function(){};
// 
// $('#stage').hide().fadeIn(2000, function(){           
//   level.load_party();
//   
//   // instantiate enemies
//   var foo = new Enemy({ 
//     map: level.map, 
//     name: 'Foo', 
//     sprite: '/images/penguin2.gif' 
//   });
//   
//   var bar = new Enemy({ map: level.map, 
//     x: 4, y: 14, 
//     name: 'Bar', 
//     sprite: '/images/turtle_man.gif' 
//   });
//   
//   level.enemies = [foo, bar];
//   level.assign_ids();
//   level.reset_turn();
//   level.load_info_toggles();
// });